# 웹 브라우저
- 사실 웹 브라우저는 가상 머신인 거 아십니까?
- 인터프리터에 속한다고 볼 수 있다.
- 개발자 콘솔을 통해 브라우저 작동을 실시간으로 볼 수 있다.
- 그런데 한편으로 브라우저가 파편화가 많이 돼서 좀 껄적지근한 면도 있다.

## 마크업 언어
- 본문과 구분되는 마크(혹은 어노테이션)를 추가할 수 있는 언어.
- 대표적으로 HTML이 있겠다만 요즘은 워낙 브라우저마다 파편화가 심해서.
- 사실 그래서 웹 페이지는 그냥 텍스트 파일에 지나지 않는다.
- 그냥 텍스트가 어떻게 페이지가 되느냐? 일반적인 문자에 특별한 힘을 주면 된다.
- XML, HTML 모두 IBM에서 만든 SGML의 문법을 일부 빌려왔다.

## URL
- HTTP 프로토콜을 통해 서버에게 문서를 요청하고 HTML로 작성된 문서를 받아 표시하는 게 옛날 브라우저였다.
- URL은 일정한 구조를 따르는 문자열이다.
  - 스킴, 호스트, 경로의 세 가지 구조가 있다.
  - 스킴은 통신 메커니즘이다. https라던지. file이라던지.
  - 통신하려는 서버는 호스트다. DNS를 통해 IP 주소로 변환된다.
  - 경로가 가리키는 위치에서 문서가 추출된다.

## HTML 문서
- 링크가 들어 있는 텍스트, 하이퍼텍스트를 활용해 작성된 문서.
- HTML에서는 부등호 문자가 "특별한 힘"을 갖는다. 마크업 엘레멘트의 시작과 끝을 알리기 때문.
- 태그는 브라우저가 마크업 엘레멘트를 어떻게 해석할지 결정한다.
- 한편 엔티티 참조를 통해 이 "특별한 능력"을 빼앗을 수도 있다.
  - `<` 문자는 HTML에서 `&lt;` 라는 문자 시퀀스로 대체된다. (와 그냥 입력하면 진짜 부등호 나옴 개신기)
  - 물론 보면 알겠지만 `&` 문자도 특별한 힘을 갖게 됐다. 이는 `&amp;`로 대체된다.
- 끝내는 태그를 써야 하는 경우가 있고 아닌 경우가 있다.
- XHTML은 저런 예외를 없앴다.
- 태그에는 애트리뷰트가 포함될 수 있는데 이는 이름과 값을 등호로 연결한 쌍이다.
- 애트리뷰트 이름에 따라 미리 정의된 동작이 있는 경우도 있으며, 그렇지 않다면 아무 이름이나 쓸 수 있다.
- 모든 애트리뷰트는 문자열로 취급된다. class 애트리뷰트를 제외하고. 공백으로 서로 분리된 값의 리스트로 취급된다.

## DOM: 문서 객체 모델
- Document Object Mode. 웹 브라우저가 문서를 처리하는 방법.
- 웹 페이지는 엘레멘트가 다른 엘레멘트를 둘러싼 모양새다.
- 이는 트리 형태로 표현될 수 있다.

### 트리 관련 용어
- 노드: 트리 엘레멘트들
- 내부 노드: 자신에게서 나가는 화살표가 존재하는 노드
- 종단 노드: 리프 노드
- 루트: 최상위 노드
- 부모, 자식, 자손, 조상, 형제 노드.

### DOM 처리
- DFS를 통해 DOM 트리를 해석한다.

## CSS
- 화면의 시각적 효과가 중요해지면서 튀어 나온 개념.
- 원래 HTML 웹 페이지에 스타일 정보가 들어 있는데, 이는 광범위한 장치에서 모두 제대로 작동하진 않았다.
- Cascading Style Sheets, CSS에 의해 스타일 정보가 분리되었다.
  - 이를 통해 HTML과는 별개로 여러 대상 장치에 스타일을 적용할 수 있게 됐다.
- 애트리뷰트는 단일 연결 리스트로, 엘레멘트들은 트리로 구성된다.
- CSS는 정규식의 변형 중 하나인 셀렉터를 사용해 DOM의 엘레멘트 위치를 지정한다.
- DOM 엘레멘트와 연결된 프로퍼티를 애트리뷰트라고 한다.

## XML 등의 마크업 언어
- HTML보다 더 일반적인 목적의 마크업 언어.
- 대부분의 태그는 정해진 의미가 없으며, 원하는 대로 의미를 부여할 수 있다.
- 누구나 원하는 마크업 언어를 만들 수 있다는 건, 충돌의 위험이 있다는 거기도 하다.
- 그래서 이들 간의 호환을 위해 태그에 접두사와 콜론을 붙이는데, 이를 네임스페이스라고 부른다. p360
- 다른 도구도 많다.
  - 문서 타입 정의(DTD)는 일종의 메타 마크업 언어 같기도 하다.
  - XML 경로 언어(XPath)는 XML 문서에 대한 셀렉터를 제공한다. CSS 셀렉터와 기능은 비슷한데 문법은 딴판.
    - XSLT의 중요한 일부다.
  - XSLT는 XML에 기반을 둔 또 다른 언어로, XPath와 결합해 XML 문서의 일부를 다른 형태로 변환할 수 있다.

## 자바스크립트
- 여태까지 본 것들로 웹 페이지를 표시할 때, 표시하는 내용을 바꾸려면 어떻게 해야 할까?
  - 새로 요청을 보내서 새 문서를 받아 올 수 밖에 없다..
  - 느리고, 자원 낭비도 심하다.
- 좀 더 대화 가능한 브라우저를 위해 탄생한 "자바스크립트".
  - ECMA-262로 표준화되었기 때문에, ECMAScript라고도 불린다.
- JS를 사용하면 브라우저 로컬에서 실행 가능한 프로그램을 웹 페이지에 포함시킬 수 있다.
  - 이 프로그램은 DOM을 바꾸고 직접 웹 서버와 통신하는 등의 일을 할 수 있다.
- JS와 서버의 상호작용은 전통적인 클라-서버 통신과는 다르다.
  - 비동기 자바스크립트와 XML(Asynchronous JavaScript And XML), 통칭 AJAX를 통해 이루어진다.
  - 서버와 JS 사이를 오가는 데이터 형식으로 처음에는 XML이 쓰였다는 증거기도 하다.
- `<script>` 엘레멘트 안에 넣음으로써 HTML 문서 안에 포함시킬 수 있다.
- 브라우저 명세에는 window.onload 변수를 제공해야 한다는 규칙이 있다.
  - 이 변수를 어떤 함수로 설정하면, 브라우저가 페이지 문서를 읽어 들인 다음 이 변수에 설정된 함수를 호출해 준다.
- 한편 getElementByTagName이라는 함수가 document 객체 안에 있어야 한다고 명시되어 있다.
  - 태그 이름을 통해 엘레멘트를 모두 얻을 수 있다.
- DOM을 조작하는 함수가 많이 정의되어 있어, 스타일 조정 이상의 무언가를 할 수 있다.

## jQuery
- DOM 함수는 브라운저마다 동작이 다를 수 있을 뿐더러, 쓰기가 상당히 불편하다.
- 이 두 가지 문제를 해결하는 jQuery!
  - 브라우저 사이의 불일치를 베워 준다.
  - 훨씬 사용하기 쉬운 DOM 조작 인터페이스를 제공한다.
- jQuery 라이브러리는 셀렉터와 액션을 조합한다.

## SVG
- Scalable Vector Graphics
- 브라우저에서 사용 가능한 마크업 언어들과는 완전히 다르지만.. 멋진 그래픽과 텍스트를 만들도록 돕는다.
- PostScript -> PDF -> SVG... SVG는 브라우저에 욱여 넣은 PDF 같은 거다.

## HTML5
- HTML의 (아마도) 최신 구현
- 여러 시맨틱 엘레멘트의 추가
- 캔버스 추가: SVG와 비슷한 기능을 제공하지만 다른 방식!
  - SVG는 DOM 함수를 사용해 조작했다.
  - 캔버스는 캔버스를 위해 만들어진 새로운 JS 함수를 통해 조작한다.
- 오디오, 비디오 엘레멘트의 추가

## JSON
- AJAX의 X는 이제 J로 바뀌어야 한다. AJAJ..
- JavaScript Object Notation. 줄여서 JSON.
- 자바스크립트 객체를 사람이 읽기 쉬운 방식으로 표현한 것이다.
- 표준에 없는 몇 가지 규칙을 더 지킨다면, 상호 운용 및 데이터 교환이 가능하다.
- JSON이 모든 데이터 타입을 지원하지는 않기 떄문에 프로그래머가 가끔 우회해야 할 때도 있다.
- JS의 eval 함수는 JSON을 JS 프로그램인 것처럼 직접 실행할 수 있다.
  - 근데 아무거나 실행하다 보면 공격자가 원하는 코드를 실행하게 될 수도 있다.
  - JSON.parse라는 함수는 그래서 추가된 것.